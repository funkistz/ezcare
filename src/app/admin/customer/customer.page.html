<ion-header>
  <ion-toolbar mode="ios" color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      Customers
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="downloadFile()" *ngIf="isSearched && customers">Export</ion-button>
    </ion-buttons>
  </ion-toolbar>
  <ion-item fill="outline" mode="md" class="ez-material-input" style="margin: 5px;">
    <ion-label>
      Status
    </ion-label>
    <ion-select value="brown" okText="Okay" cancelText="Dismiss" interface="action-sheet" placeholder="Please choose"
      (ionChange)="changeStatus($event);" [(ngModel)]="status">
      <ion-select-option value="all">
        View All
      </ion-select-option>
      <ion-select-option value="logged">
        Logged
      </ion-select-option>
      <ion-select-option value="unlogged">
        Unlogged
      </ion-select-option>
    </ion-select>
  </ion-item>
</ion-header>

<ion-content>

  <ion-list>
    <ion-list-header> Customer List </ion-list-header>

    <ion-spinner name="dots" *ngIf="!isSearched" style="width: 100%; margin-top: 20px; font-size: 20px;"></ion-spinner>

    <h6 *ngIf="isSearched && customers && customers.length == 0" class="ion-text-center">
      No customer available
    </h6>

    <h6 *ngIf="isSearched && customers && customers.length > 0" class="ion-text-center">

      <span *ngIf="status == 'logged'">
        {{ customers.length }} customer has already login.
      </span>
      <span *ngIf="status == 'unlogged'">
        {{ customers.length }} customer has not login.
      </span>
      <span *ngIf="status == 'all'">
        {{ customers.length }} registered customer.
      </span>

    </h6>

    <!-- <ion-item *ngFor="let customer of customers">
      <ion-label>
        <h2>Policy no: {{ customer.cust_policyno }}</h2>
        <p>Name: {{ customer.cust_name }}</p>
        <p *ngIf="customer.first_login_at">First Login: {{ customer.first_login_at }}</p>
        <p *ngIf="customer.last_login_at">Last Login: {{ customer.last_login_at }}</p>
      </ion-label>
    </ion-item> -->
  </ion-list>

</ion-content>